{
  "$schema": "https://opencode.ai/config.json",
  "lsp": {
    "pyright": {
      "disabled": true
    }
  },
  "agent": {
    "{{ .AnalysisAgent }}": {
      "mode": "primary",
      "model": "{{ .ProviderID }}/{{ .ModelID }}",
      "permission": {
        "bash": {
          "ls": "allow",
          "cd": "allow",
          "pwd": "allow",
          "git status": "allow",
          "git diff": "allow",
          "head": "allow",
          "tail": "allow",
          "cat": "allow",
          "grep": "allow",
          "find": "allow",
          "*": "deny"
        },
        "edit": "deny",
        "webfetch": "allow"
      }
    },
    "{{ .WriteAgent }}": {
      "mode": "primary",
      "model": "{{ .ProviderID }}/{{ .ModelID }}",
      "tools": {
        "plural*": true
      },
      "permission": {
        "bash": "allow",
        "edit": "allow",
        "webfetch": "allow"
      }
    }
  },
  "mcp": {
    "plural": {
      "type": "local",
      "command": ["mcpserver"],
      "enabled": true,
      "environment": {
        "PLRL_CONSOLE_TOKEN": "{{ .ConsoleToken }}",
        "PLRL_CONSOLE_URL": "{{ .ConsoleURL }}",
        "PLRL_AGENT_RUN_ID": "{{ .AgentRunID }}"
      }
    }
  },
  "tools": {
    "plural*": false
  },
  "username": "plural",
  "provider": {
    "{{ .ProviderID }}": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "{{ .ProviderName }}",
      "options": {
        "baseURL": "{{ .ConsoleURL }}/ext/v1/ai/openai/v1",
        "headers": {
          "Authorization": "Bearer {{ .DeployToken }}"
        }
      },
      "models": {
        "{{ .ModelID }}": {
          "name": "{{ .ModelName }}",
          "reasoning": false
        }
      }
    }
  }
}